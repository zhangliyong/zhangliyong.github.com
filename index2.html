<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Lyon's Blog</title>
	<meta name="description" content="">
	<meta name="author" content="zhang liyong">

	<!-- HTML5 shim, for IE6-8 support of HTML elements -->
	<!--[if lt IE 9]>
		<script src="./theme/html5.js"></script>
	<![endif]-->

	<!-- Styles -->
	<link href="./theme/bootstrap.min.css" rel="stylesheet">
	<link href="./theme/local.css" rel="stylesheet">
	<link href="./theme/pygments.css" rel="stylesheet">

    <!-- Feeds -->
        
		</head>
<body>
			<div class="topbar">
	  <div class="topbar-inner">
		<div class="container-fluid">
		  <a class="brand" href="./">Lyon's Blog</a>
			<ul class="nav">
																			<li><a href="./pages/about.html">About</a></li>
																		<li ><a href="./category/algorithm.html">algorithm</a></li>
									<li ><a href="./category/bash.html">bash</a></li>
									<li ><a href="./category/db.html">db</a></li>
									<li ><a href="./category/emacs.html">emacs</a></li>
									<li ><a href="./category/git.html">git</a></li>
									<li ><a href="./category/linux.html">linux</a></li>
									<li ><a href="./category/misc.html">misc</a></li>
									<li ><a href="./category/mongo.html">mongo</a></li>
									<li ><a href="./category/munin.html">munin</a></li>
									<li ><a href="./category/mysql.html">mysql</a></li>
									<li ><a href="./category/network.html">network</a></li>
									<li ><a href="./category/nginx.html">nginx</a></li>
									<li ><a href="./category/python.html">python</a></li>
									<li ><a href="./category/vim.html">vim</a></li>
							</ul>
			<p class="pull-right"><a href="./archives.html">[archives]</a> <a href="./tags.html">[tags]</a></p>
		</div>
	  </div>
	</div>

	<div class="container-fluid">
	  <div class="sidebar">
		<div class="well">
			<h3>Blogroll</h3>
			<ul>
								<li><a href="http://docs.notmyidea.org/alexis/pelican/">Pelican</a></li>
								<li><a href="http://python.org">Python.org</a></li>
								<li><a href="http://jinja.pocoo.org">Jinja2</a></li>
								<li><a href="#">You can modify those links in your config file</a></li>
							</ul>
			<div class="social">
			<h3>Social</h3>
			<ul>
								<li><a href="#">You can add links in your config file</a></li>
								<li><a href="#">Another social link</a></li>
							</ul>
			</div>
		</div>
	  </div>
	  <div class="content">
			<div class="page-header"><h1> Lyon's Blog </h1></div>			
<div class='article'>
	<h2>htop command</h2>
	<div class="well small">Permalink: <a class="more" href="./htop-command.html">2013-07-28 11:11:13</a>
by <a class="url fn" href="./author/zhang-liyong.html">zhang liyong </a>
 in <a href="./category/linux.html">linux</a>
</div>
	<div class="summary"><p>推荐一个代替工具htop，显示信息很详细，功能丰富，一但上手操作也很简单，
<a href="http://www.thegeekstuff.com/2011/09/linux-htop-examples/">thegeekstuff</a>上有
一篇文章专门介绍了这一工具，正如这篇文章上说的：你一但开始即用htop，就不再回到top了。</p> <a class="btn primary xsmall" href="./htop-command.html">more…</a>
	</div>
</div>	
<div class='article'>
	<h2>vmstat</h2>
	<div class="well small">Permalink: <a class="more" href="./vmstat.html">2013-07-25 11:35:02</a>
by <a class="url fn" href="./author/zhang-liyong.html">zhang liyong </a>
 in <a href="./category/linux.html">linux</a>
</div>
	<div class="summary"><p>最近在分析mongo的性能问题，发现mongo所在机器的io比较频繁。</p>
<p>使用vmstat命令查看，发现b（The number of processes in uninterruptible sleep）这一列的数量比较大，持续在4左右。
随后查询uninterruptible sleep状态的意义，引自：http://www.novell.com/support/kb/doc.php?id=7002725</p>
<blockquote>
<p>Processes in a "D" or uninterruptible sleep state are usually waiting on I/O. The ps command shows a "D" on processes in an ...</p></blockquote> <a class="btn primary xsmall" href="./vmstat.html">more…</a>
	</div>
</div>	
<div class='article'>
	<h2>Mongo Performance</h2>
	<div class="well small">Permalink: <a class="more" href="./mongo-performance.html">2013-07-25 10:07:12</a>
by <a class="url fn" href="./author/zhang-liyong.html">zhang liyong </a>
 in <a href="./category/mongo.html">mongo</a>
</div>
	<div class="summary"><p>最近mongo的性能</p> <a class="btn primary xsmall" href="./mongo-performance.html">more…</a>
	</div>
</div>	
<div class='article'>
	<h2>Mongo</h2>
	<div class="well small">Permalink: <a class="more" href="./mongo.html">2013-07-24 17:36:09</a>
by <a class="url fn" href="./author/zhang-liyong.html">zhang liyong </a>
 in <a href="./category/mongo.html">mongo</a>
</div>
	<div class="summary"><h2>query after update slow</h2>
<p>这两天有一个接口的速度非常慢，主要是执行一条查询语句非常慢，有时耗时达200秒，于是找到了这条查询语句单独在mongo shell中执行，在mongo shell中执行并不慢，慢慢调试后最终找到问题，原因是在查询语句执行之前执行了两次更新语句。</p>
<p>利用pymongo执行更新时，如果不设置safe=True，mongo会及时返回函数调用，但更新并没有真正执行完，mongo进程在后台继续执行，所以当接着执行查询时，此时更新没有结束，数据库会处于lock状态，查询等待数据库解锁，所以查询非常慢。</p>
<p>把更新语句去除后，查询恢复正常。</p>
<h2>Concurrency</h2>
<p>MongoDB global lock to ga</p>
<h2>Tips</h2>
<h3>If Write Heavy</h3>
<p>Global Lock is Global
As you probably know, MongoDB has a global lock. The ...</p> <a class="btn primary xsmall" href="./mongo.html">more…</a>
	</div>
</div>	
<div class='article'>
	<h2>Job</h2>
	<div class="well small">Permalink: <a class="more" href="./job.html">2013-07-10 13:19:07</a>
by <a class="url fn" href="./author/zhang-liyong.html">zhang liyong </a>
 in <a href="./category/misc.html">misc</a>
</div>
	<div class="summary"><p>今天读了A. Jesse Jiryu Davis的一篇<a href="http://emptysqua.re/blog/so-youre-coming-to-a-career-fair/">文章</a>，关于计算机专业的学生如何让自己突出，找到
自己喜欢的工作。</p>
<p>开篇作者就指出要想办法让自己突出，不要与其他学生都一样，如果你是一个黑客，那你就要表现出来。</p>
<ol>
<li>
<p>仅仅学校课堂学的东西是不够的</p>
</li>
<li>
<p>要有气质、魅力。</p>
<p>好像计算机专业的学生不需要，错了！程序员也要和人交流，打交道，尤其是团队之间，如果你有魅力，会更容易和人交流，沟通效率更高。很多程序员也许都知道沟通的重要性，嘴上确说不需要，其实是在给自己找借口。</p>
</li>
<li>
<p>独立的项目，不一样的语言，不一样的课程</p>
<p>如果有创意想法，就实现它，这将会给你增加很多的分数，
学一门其它的编程语言，不要只局限于课堂上教的。</p>
</li>
<li>
<p>从长远来看，最好参与一些开源项目，一开始可能很难找到开源项目的一些问题，即使找到了，可能也写不出高质量的patch，可以先自己建立一个项目，自己开发。</p>
<p>当然也有例外：你可以修改一些python的库，使其兼容python 3；或者将一种语言上热门的库移植到另一种语言上(在另一种语言上重新实现)，如果这个语言上还没有相应的库。</p>
</li>
</ol>
<p>对于我们在职的程序员，这些建议仍然适用 ...</p> <a class="btn primary xsmall" href="./job.html">more…</a>
	</div>
</div>	
<div class='article'>
	<h2>HTTP keep-alive</h2>
	<div class="well small">Permalink: <a class="more" href="./http-keep-alive.html">2013-07-09 17:43:45</a>
by <a class="url fn" href="./author/zhang-liyong.html">zhang liyong </a>
 in <a href="./category/nginx.html">nginx</a>
</div>
	<div class="summary"><p>今天在阅读<a href="http://jacobian.org/writing/django-performance-tips/">Django performance tips</a>时发现关闭keepalive可以提高效率，原文如下：</p>
<blockquote>
<p>Turn off KeepAlive
I don’t totally understand how KeepAlive works, but turning it off on our Django servers increased performance by something like 50%. Of course, don’t do this if the same server is also serving media… but you’re not doing ...</p></blockquote> <a class="btn primary xsmall" href="./http-keep-alive.html">more…</a>
	</div>
</div>	
<div class='article'>
	<h2>Generalized Suffix Tree</h2>
	<div class="well small">Permalink: <a class="more" href="./generalized-suffix-tree.html">2013-07-09 11:16:16</a>
by <a class="url fn" href="./author/zhang-liyong.html">zhang liyong </a>
 in <a href="./category/algorithm.html">algorithm</a>
</div>
	<div class="summary"><p>本文提供了另一种构造generalized suffix tree的方法，不需要为每个字符串添加惟一的字符，所以可以为任意数量的字符串构造后缀树。
构造原理依然采用Ukkonen提出的算法。下面我们由简入深分别介绍此种方式应对的问题。</p>
<h2>前言</h2>
<p>后缀树可以用来快速的对字符串进行搜索，详细信息推荐阅读：http://en.wikipedia.org/wiki/Suffix_tree，</p>
<p>后缀树的搜索非常快，但是构造后缀树比较复杂， Ukkonen提出的构造后缀树的算法时间复杂度为O(nlogn), 构造原理阅读
http://stackoverflow.com/questions/9452701/ukkonens-suffix-tree-algorithm-in-plain-english，本文也是在此链接
的基础上进行说明的。 <strong>所以在继续阅读前确保你已经阅读了此链接的内容。</strong></p>
<p>suffix tree是一个字符串的所有后缀组成的一棵树。
在很多情况下我们有多个字符串，需要为这些字符串构造同一棵后缀树，即是generalized suffix tree，例如查询包含'abc'的所有字符串。</p>
<p>如需要为n个字符串（如s1, s2, s3, ..., sn）构造后缀树，目前通用的做法是找到n个不同的字符, 如u1, u2,..., un ...</p> <a class="btn primary xsmall" href="./generalized-suffix-tree.html">more…</a>
	</div>
</div>	
<div class='article'>
	<h2>gevent</h2>
	<div class="well small">Permalink: <a class="more" href="./gevent.html">2013-06-26 11:36:31</a>
by <a class="url fn" href="./author/zhang-liyong.html">zhang liyong </a>
 in <a href="./category/python.html">python</a>
</div>
	<div class="summary"><h2>Pool</h2>
<p>什么时候执行Pool中的任务</p>
<h2>ref:</h2>
<p>Introduction to Gevent: http://blog.pythonisito.com/2012/07/introduction-to-gevent.html</p>
<p>Gevent, Threads, and Benchmarks: http://blog.pythonisito.com/2012/07/gevent-threads-and-benchmarks.html</p>
<p>Gevent and Greenlets: http://blog.pythonisito.com/2012/07/gevent-and-greenlets.html</p>
<p>Greening the Python Standard Library with Gevent: http://blog.pythonisito.com/2012/08 ...</p> <a class="btn primary xsmall" href="./gevent.html">more…</a>
	</div>
</div>	
<div class='article'>
	<h2>wsgi</h2>
	<div class="well small">Permalink: <a class="more" href="./wsgi.html">2013-06-25 17:20:44</a>
by <a class="url fn" href="./author/zhang-liyong.html">zhang liyong </a>
 in <a href="./category/python.html">python</a>
</div>
	<div class="summary"><p>http://blog.pythonisito.com/2012/08/building-web-applications-with-gevents.html</p> <a class="btn primary xsmall" href="./wsgi.html">more…</a>
	</div>
</div>	
<div class='article'>
	<h2>wsgi</h2>
	<div class="well small">Permalink: <a class="more" href="./wsgi.html">2013-06-25 17:20:07</a>
by <a class="url fn" href="./author/zhang-liyong.html">zhang liyong </a>
 in <a href="./category/python.html">python</a>
</div>
	<div class="summary"><p>http://lucumr.pocoo.org/2007/5/21/getting-started-with-wsgi/</p>
<p>http://webpython.codepoint.net/wsgi_request_parsing_post</p>
<p>http://blog.pythonisito.com/2012/08/building-web-applications-with-gevents.html</p> <a class="btn primary xsmall" href="./wsgi.html">more…</a>
	</div>
</div>	

<div class="pagination">
<ul>
					<li class="prev"><a href="./index.html">&larr; Previous</a></li>
				<li class=""><a href="./index.html">1</a></li>
			<li class="active"><a href="./index2.html">2</a></li>
			<li class=""><a href="./index3.html">3</a></li>
			<li class=""><a href="./index4.html">4</a></li>
			<li class=""><a href="./index5.html">5</a></li>
				<li class="next"><a href="./index3.html">Next &rarr;</a></li>
	</ul>
</div>

		<footer>
		  <p>Powered by <a href="http://getpelican.com/">Pelican</a>. Theme based on <a href="http://twitter.github.com/bootstrap/">Twitter Bootstrap</a>.</p>
		  <p>&copy; zhang liyong</p>
		</footer>
	  </div>

	</div>
</body>
</html>