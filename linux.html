<!DOCTYPE html>
<html lang="en">
<head>
        <title>Lyon's Blog : Linux</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="./theme/css/main.css" type="text/css" />
        <link href="./" type="application/atom+xml" rel="alternate" title="Lyon's Blog ATOM Feed" />
        
        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="./css/ie.css"/>
                <script src="./js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="./css/ie6.css"/><![endif]-->

</head>

<body>
                
<header>
    <h1><a href="." id="site-title">Lyon's Blog </a> :
        <a href="./linux.html" id="page-title">Linux</a></h1>
    <time datetime="2013-05-16T12:18:32">Thu 16 May 2013</time></header>
<article>
    <h2>Linux TCP Performance Tuning</h2>
<p>There are two ways to change tcp parameters.</p>
<ol>
<li>
<p>change the value of parameter files in /proc/sys/net/
   e.g. increase the value of somaxconn
        <code>echo 1024 &gt; /proc/sys/net/core/somaxconn</code>
   when the server restart, the parameter will restore.</p>
</li>
<li>
<p>change the vlaue in /etc/sysctl.con, and run <code>sudo sysctl -p</code> to apply the changes immediately,
   this can change the value permanently.</p>
</li>
</ol>
<h3>Parameters</h3>
<ul>
<li>/proc/sys/fs/file-max: The maximum number of concurrently open files.</li>
<li>/proc/sys/net/ipv4/tcp_max_syn_backlog: Maximum number of remembered connection requests, which are still did not receive an acknowledgment from connecting client. The default value is 1024 for systems with more than 128Mb of memory, and 128 for low memory machines. If server suffers of overload, try to increase this number.</li>
<li>/proc/sys/net/core/somaxconn: Limit of socket listen() backlog, known in userspace as SOMAXCONN. Defaults to 128. The value should be raised substantially to support bursts of request. For example, to support a burst of 1024 requests, set somaxconn to 1024.</li>
</ul>
<p>change userlevel file-max
need logout and login to work</p>
</article>

        <footer>
            <nav>
                <ul>
                                    <li><a href="./pages/about.html">About</a></li>
                                                    <li>:: <a href="./categories.html">Catégories</a></li>
                                                </ul>
            </nav>
                <p id="theme-credit"><a href="http://mathieu.agopian.info/mnmlist/theme.html">Thème mnmlist</a></p>
        </footer>

</body>
</html>