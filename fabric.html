<!DOCTYPE html>
<html lang="en">
<head>
        <title>Lyon's Blog : fabric</title>
        <meta charset="utf-8" />
        <link rel="stylesheet" href="./theme/css/main.css" type="text/css" />
        <link href="./" type="application/atom+xml" rel="alternate" title="Lyon's Blog ATOM Feed" />
        
        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="./css/ie.css"/>
                <script src="./js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="./css/ie6.css"/><![endif]-->

</head>

<body>
                
<header>
    <h1><a href="." id="site-title">Lyon's Blog </a> :
        <a href="./fabric.html" id="page-title">fabric</a></h1>
    <time datetime="2013-07-31T11:19:32">Wed 31 July 2013</time></header>
<article>
    <p>下面介绍python下的一个用于项目部署的工具<a href="http://docs.fabfile.org/">fabric</a>，要学习fabric推荐阅读其官方文档，</p>
<p>本文给只给出一个简单的介绍及一些基本的功能。</p>
<p>根据官方文档的介绍:</p>
<blockquote>
<p>Fabric is:</p>
<p>A tool that lets you execute arbitrary Python functions via the command line;
A library of subroutines (built on top of a lower-level library) to make executing shell commands over SSH easy and Pythonic.</p>
</blockquote>
<p>首先安装fabric <code>pip install fabric</code>，安装完fabric之后，系统会多出fab命令。</p>
<p>fab命令在执行时会读取当前目录下的fabfile.py文件，并根据fabric的参数来执行文件中的函数。</p>
<p>fabfile.py</p>
<div class="highlight"><pre><span class="n">def</span> <span class="n">hello</span><span class="p">()</span><span class="o">:</span>
    <span class="n">print</span><span class="p">(</span><span class="s">&quot;Hello world!&quot;</span><span class="p">)</span>
</pre></div>


<p>hello为一个task，执行hello如下：</p>
<div class="highlight"><pre><span class="err">$</span> <span class="n">fab</span> <span class="n">hello</span>
<span class="n">Hello</span> <span class="n">world</span><span class="o">!</span>

<span class="n">Done</span><span class="p">.</span>
</pre></div>


<p>我们看到hello并没有参数，fab也支持给task加参数。</p>
<p>fab可以用于项目部署，服务器管理。它可以通过ssh执行服务器上的shell命令，当然也可以执行本地的shell命令。</p>
<p>例如： local执行本地命令，run执行服务器端命令，sudo以root权限执行服务器端命令。</p>
<p>fab可以通过设置env.hosts变量来在所有host中执行某一task。</p>
<p>fab也提供了一些decorator，如hosts, roles来设置在某些host上执行task。</p>
</article>

        <footer>
            <nav>
                <ul>
                                    <li><a href="./pages/about.html">About</a></li>
                                                    <li>:: <a href="./categories.html">Catégories</a></li>
                                                </ul>
            </nav>
                <p id="theme-credit"><a href="http://mathieu.agopian.info/mnmlist/theme.html">Thème mnmlist</a></p>
        </footer>

</body>
</html>